<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Marga Freedom — Intro Member</title>
  <meta name="description" content="Form intro Marga Freedom — isi singkat, jujur, tanpa lebay." />
  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#4fd1c5; --accent-2:#60a5fa;
      --radius:10px; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center;
      background:linear-gradient(180deg,#071029 0%, #071726 60%); color:#e6eef6;
      padding:24px;
    }
    .container{
      width:100%; max-width:760px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
      border-radius:var(--radius); padding:28px; box-shadow:0 10px 30px rgba(2,6,23,0.6);
    }
    h1{margin:0 0 6px 0; font-size:28px; letter-spacing:0.6px}
    p.lead{margin:0 0 18px 0; color:var(--muted)}
    form{margin-top:12px}
    label{display:block; font-weight:600; font-size:13px; margin-bottom:6px}
    input[type="text"], input[type="number"], textarea{
      width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06);
      background:rgba(255,255,255,0.02); color:inherit; outline:none; font-size:14px;
    }
    input::placeholder, textarea::placeholder{color: #7f8b97}
    .row{display:flex; gap:16px}
    .col{flex:1}
    textarea{resize:vertical; min-height:54px; max-height:220px}
    .small{font-size:13px; color:var(--muted); margin-top:6px}
    .actions{display:flex; gap:12px; align-items:center; margin-top:14px}
    button{
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#052027; border:none; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer;
      box-shadow:0 6px 18px rgba(79,209,197,0.12); transition:transform .12s ease;
    }
    button:disabled{opacity:.6; transform:none; cursor:default}
    button:active{transform:translateY(1px)}
    .note{margin-top:14px; color:var(--muted); font-size:13px}
    .success{
      display:none; margin-top:18px; padding:12px; border-radius:8px; background:rgba(79,209,197,0.08);
      color:var(--accent);
    }
    @media (max-width:640px){
      .row{flex-direction:column}
    }
  </style>
</head>
<body>
  <main class="container" role="main">
    <header>
      <h1>MARGA FREEDOM</h1>
      <p class="lead"><strong>Freedom is not chaos. Freedom is self-control.</strong><br/>Isi form ini dengan jujur dan singkat. Tidak perlu lebay.</p>
    </header>

    <form id="introForm" action="https://formspree.io/f/xgozqeaa" method="POST" novalidate>
      <div class="row">
        <div class="col">
          <label for="nama">Nama</label>
          <input id="nama" name="nama" type="text" required placeholder="Nama lengkap" />
        </div>

        <div class="col" style="max-width:120px">
          <label for="umur">Umur</label>
          <input id="umur" name="umur" type="number" required min="8" placeholder="Usia" />
        </div>
      </div>

      <div style="margin-top:12px">
        <label for="asal">Asal</label>
        <input id="asal" name="asal" type="text" required placeholder="Kota / daerah" />
      </div>

      <div style="margin-top:12px">
        <label for="minat">Minat / Hobi</label>
        <input id="minat" name="minat" type="text" placeholder="Contoh: musik, coding" />
      </div>

      <div style="margin-top:12px">
        <label for="alasan">Alasan Join Marga Freedom</label>
        <textarea id="alasan" name="alasan" rows="4" required placeholder="Tulis singkat aja, jujur"></textarea>
      </div>

      <div style="margin-top:12px">
        <label for="prinsip">Prinsip Hidup</label>
        <textarea id="prinsip" name="prinsip" rows="3" placeholder="(opsional)"></textarea>
      </div>

      <!-- Honeypot: hidden field untuk bot -->
      <div style="display:none;">
        <label for="website">Website</label>
        <input id="website" name="website" type="text" autocomplete="off" />
      </div>

      <!-- optional: bila mau redirect server-side via Formspree, isi _next. Karena kita pakai JS fetch, tidak diperlukan. -->
      <input type="hidden" name="_language" value="id" />

      <div style="margin-top:12px">
        <label style="display:flex; gap:8px; align-items:center; font-weight:normal;">
          <input id="consent" name="consent" type="checkbox" required />
          <span>Saya setuju data saya disimpan sesuai kebijakan privasi (singkat).</span>
        </label>
      </div>

      <div class="actions">
        <button id="submitBtn" type="submit">Kirim Intro</button>
        <div class="small note">Masuk dengan niat. Bertahan dengan sikap.</div>
      </div>

      <div id="success" class="success" role="status" aria-live="polite"></div>
      <div id="error" class="small" style="color:#ff9b9b; display:none;"></div>
    </form>
  </main>

  <script>
    (function(){
      const form = document.getElementById('introForm');
      const submitBtn = document.getElementById('submitBtn');
      const successEl = document.getElementById('success');
      const errorEl = document.getElementById('error');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        // simple client-side validation for required fields
        if (!form.reportValidity()) return;

        // honeypot check
        if (form.website && form.website.value.trim() !== '') {
          // likely a bot — silently abort
          return;
        }

        submitBtn.disabled = true;
        submitBtn.textContent = 'Mengirim...';
        successEl.style.display = 'none';
        errorEl.style.display = 'none';

        try {
          const action = form.getAttribute('action');
          const data = new FormData(form);

          const res = await fetch(action, {
            method: 'POST',
            body: data,
            headers: {
              'Accept': 'application/json'
            }
          });

          if (res.ok) {
            successEl.textContent = 'Terima kasih — intro kamu sudah terkirim. Selamat datang di Marga Freedom.';
            successEl.style.display = 'block';
            form.reset();
            // keep consent checkbox unchecked after reset for privacy
          } else {
            const json = await res.json().catch(() => ({}));
            const message = json.error || 'Gagal mengirim. Coba lagi nanti.';
            errorEl.textContent = message;
            errorEl.style.display = 'block';
          }
        } catch (err) {
          errorEl.textContent = 'Terjadi kesalahan jaringan. Periksa koneksi dan coba lagi.';
          errorEl.style.display = 'block';
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Kirim Intro';
        }
      });
    })();
  </script>
</body>
</html>